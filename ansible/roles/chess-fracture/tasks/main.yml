---
# tasks file for chess-fracture
- name: test connection
  ping:

- name: install requirements
  yum:
    name:
      - yum-utils
      - zip
      - xorg-x11-server-Xorg
      - xorg-x11-xauth
      - xorg-x11-server-utils
      - mesa-dri-drivers
      - git
      - python2-pip
      - gcc
      - openssl-devel

- name: sync files
  synchronize:
    src: "{{ playbook_dir }}/.."
    dest: "/home/{{ ansible_user }}/chess-fracture"
  become_user: "{{ ansible_user }}"


- name: turbovnc
  include: turbovnc.yml

- name: reverse proxy
  include: nginx.yml

- name: blender
  include: blender.yml

- name: postgres
  include: postgres.yml

